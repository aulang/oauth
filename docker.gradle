jib {
    def base_name = bootJar.archiveBaseName.getOrNull()
    from {
        image = 'aulang/jdk'
    }
    to {
        image = "$docker_registry/aulang/$base_name"
        auth {
            username = "$docker_registry_username"
            password = "$docker_registry_password"
        }
    }
    container {
        jvmFlags = ['-server -Xms128m -Xmx512m -XX:MetaspaceSize=64m -XX:MaxMetaspaceSize=128m',
                    '-Djava.security.egd=file:/dev/./urandom',
                    '-Duser.timezone=Asia/Shanghai'
        ]
        creationTime = "USE_CURRENT_TIMESTAMP"
    }
    allowInsecureRegistries = true
}